<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="e_design.EBinaryField">
        <t t-if="props.record.data[props.name]">
            <div class="o_binary_field_container d-flex align-items-center btn-link">
                <div class="row align-items-center">
                    <div class="col" t-on-click="onFileDownload">
                        <div class="o_file_icon me-3">
                            <i t-attf-class="fa {{this.getFileIconClass(this.state.fileInfo.format)}}"/>
                        </div>
                    </div>
                    <div class="col-auto" t-on-click="onFileDownload">
                        <div class="o_file_info flex-grow-1">
                            <div class="o_file_name" t-esc="this.state.fileInfo.name"/>
                            <div class="o_file_meta">
                                <span class="o_file_format" t-esc="this.state.fileInfo.format"/>
                                <span class="o_file_size" t-esc="this.state.fileInfo.size"/>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="o_file_actions mt-0">
                            <FileUploader acceptedFileExtensions="props.acceptedFileExtensions" onUploaded.bind="update">
                                <t t-set-slot="toggler">
                                    <button t-if="!props.readonly" class="btn btn-sm btn-link" title="Change File">
                                        <i class="fa fa-refresh"/>
                                    </button>
                                </t>
                                <t t-slot="default">
                                    <button t-if="!props.readonly" class="btn btn-sm btn-link text-danger" t-on-click="() => this.update({})" title="Delete File">
                                        <i class="fa fa-trash"/>
                                    </button>
                                    <button
                                        class="btn btn-link btn-sm lh-1 fa fa-download o_download_file_button"
                                        data-tooltip="Download"
                                        aria-label="Download"
                                        t-on-click="onFileDownload"
                                    >
                                    </button>
                                </t>
                            </FileUploader>
                        </div>
                    </div>
                </div>
            </div>
        </t>
        <t t-else="">
            <label t-if="!props.readonly" class="btn btn-primary">
                <FileUploader acceptedFileExtensions="props.acceptedFileExtensions" onUploaded.bind="update">
                    <t t-set-slot="toggler">Upload your file</t>
                </FileUploader>
            </label>
            <div t-else="" class="text-muted fst-italic p-2">
                No file uploaded
            </div>
        </t>
    </t>
</templates>