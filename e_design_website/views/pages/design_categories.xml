<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <template id="e_design_website.DesignsCategories">
      <t t-call="website.layout">
        <div class="container py-5">
          <t t-call="e_design_website.breadcrumbComponent"/>
          
          <div id="searchable-list" data-empty-message="No categories found" class="public-design-style">
            
            <div class="row my-2 mb-4 justify-content-end">
              <div class="col-12 col-sm-6 col-md-4 pe-0">
                <div class="search-component">
                    <div class="dropdown-search">
                        <div class="row px-2">
                            <div class="col px-0">
                                <input type="text" 
                                    id="searchable-input"
                                    class="form-control" 
                                    placeholder="Search"  
                                    />
                            </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>

            <div class="list row g-4">
              <t t-foreach="categories" t-as="category">
                <div class="col-12 col-md-6 col-lg-4" data-search-container="true">
                  <div class="card div-href div-href-transition" t-att-data-widget-href="'/edesigns/categories/' + str(category.id)">
                    
                    <div class="card-img position-relative overflow-hidden">
                      <img t-if="category.image" t-attf-src="/web/image/product.edesign.category/#{category.id}/image" class="card-img-top" t-att-alt="category.name"/>
                      <div t-else="" class="card-img-top bg-light d-flex align-items-center justify-content-center">
                        <i class="fa fa-image text-muted fa-3x"></i>
                      </div>
                      
                      <div class="background-linear position-absolute bottom-0 start-0 end-0 p-3 text-white">
                        <h5 class="card-title mb-1 text-white" data-search-mark="true" t-esc="category.name"/>
                        <small class="opacity-75"><t t-esc="category.design_counter"/> designs</small>
                      </div>
                    </div>
                    
                    <div class="card-body bg-light" t-if="category.subcategories_ids" data-search-group="true">
                      <div class="d-flex flex-wrap gap-2">
                        <t t-foreach="category.subcategories_ids" t-as="subcategory">
                            <div 
                              class="btn btn-sm btn-outline-primary rounded-pill div-href div-href-transition" 
                              t-att-data-widget-href="'/edesigns/categories/' + str(subcategory.id)" 
                              t-att-data-widget-stop-propagation="1" 
                              data-search-mark="true"
                              t-esc="subcategory.name"
                            />
                        </t>
                      </div>
                    </div>
                    
                  </div>
                </div>
              </t>
            </div>
            
          </div>
        </div>
      </t>
    </template>
 
</odoo>